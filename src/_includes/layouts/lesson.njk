---
layout: layouts/base
tags: lesson
---

{% from "macros.njk" import icon, script %}

<div class="container mx-auto py-8 lg:grid lg:grid-cols-[minmax(220px,1fr),minmax(640px,2fr),1fr] lg:gap-10">
  <nav
    class="
      hidden side-nav sticky print:static top-[53px] left-0 z-20 pt-4 pb-5 -mt-8 mb-8
      border-b bg-white dark:border-gray-700 dark:bg-gray-900
      lg:block lg:border-b-0 lg:my-0 lg:py-0 lg:static lg:z-auto
    "
    id="outlineNav"
    aria-label="Outline"
  >
    <ol
      class="
        list-none my-0 dark:border-gray-700
        lg:w-fit lg:border lg:rounded lg:py-2 lg:pl-4 lg:pr-10
        lg:max-h-[calc(100vh-118px)] lg:overflow-y-auto lg:sticky lg:top-[86px]
      "
    >
      {% for lesson in collections.all | eleventyNavigation %}
        <li class="w-fit pl-0">
          <a
            href="{{ lesson.url | url }}"
            {% if page.url == lesson.url %} aria-current="page" {% endif %}
            class="leading-snug inline-flex items-center"
          >
            {{ lesson.title }}
          </a>
        </li>
      {% endfor %}
    </ol>
  </nav>

  <div>
    <main id="main" class="mx-auto relative max-w-[640px] lg:max-w-none lg:mx-0">
      <article>
        <h1>{{ title }}</h1>
        <p><b class="lead">{{ excerpt | safe }}</b></p>
        {% if collections.slides | find("data.order", eleventyNavigation.order) %}
          <p>
            <a href="{{ '/slides/' ~ page.fileSlug | url }}">Slides {{ icon('display', class='mb-0.5') }}</a>&nbsp;
            (<a
              href="{{ '/slides/' ~ page.fileSlug ~ '.pdf' | url }}"
              download="{{ page.fileSlug ~ '.pdf' }}"
              title="Download slides as PDF"
              aria-label="Download slides as PDF"
            >PDF {{ icon("file-pdf-fill", class='text-red-600 mb-0.5') }}</a>)
          </p>
        {% endif %}

        {{ content | safe }}
      </article>

      <nav aria-label="Previous/next lesson" class="flex justify-between mt-10">
        {% set lessons = collections.all | eleventyNavigation %}
        {% set prevLesson = lessons | find("order", eleventyNavigation.order - 1) %}
        {% if prevLesson %}
          <a href="{{ prevLesson.url | url }}" rel="prev" class="inline-flex items-center mr-auto">
            {{ icon('arrow-left', class='mr-2') }}
            Previous
          </a>
        {% endif %}
        {% set nextLesson = lessons | find("order", eleventyNavigation.order + 1) %}
        {% if nextLesson %}
          <a href="{{ nextLesson.url | url }}" rel="next" class="inline-flex items-center ml-auto">
            Next
            {{ icon('arrow-right', class='ml-2') }}
          </a>
        {% endif %}
      </nav>
    </main>

  </div>
</div>

{{ script("toggle-outline.js") }}

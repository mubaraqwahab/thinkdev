---
layout: layouts/base
tags: lesson
---

{% from "macros.njk" import icon, script %}

<div class="container pt-4 pb-8 mx-auto lg:pt-8 lg:grid lg:grid-cols-[240px,1fr] lg:gap-10">
  <div class="mb-8 lg:mb-0">
    <button
      id="outlineToggle"
      type="button"
      aria-expanded="false"
      aria-controls="outlineNav"
      class="inline-flex font-bold items-center text-gray-900 lg:hidden"
    >
      {{ icon("caret-right-fill", class="mr-2 motion-safe:transition-transform motion-safe:duration-300") }}
      Outline
    </button>
    <nav class="hidden pt-4 pb-6 border-b lg:mt-0 lg:block lg:border-b-0 lg:border-r lg:py-0 lg:pr-8 lg:pl-1 lg:h-[calc(100vh-118px)] lg:sticky lg:top-[72px] lg:left-0 lg:overflow-y-auto" id="outlineNav" aria-label="Outline">
      <ol class="prose">
        {% for lesson in collections.lesson | arraysort("data.order") %}
          <li>
            <a href="{{ lesson.url | url }}" {% if page.url == lesson.url %} aria-current="page" {% endif %} class="inline-block leading-snug">
              {{ lesson.data.title }}
            </a>
          </li>
        {% endfor %}
      </ol>
    </nav>
  </div>

  <main id="main" class="">
    <div class="prose prose-indigo max-w-none mx-auto relative lg:mx-0">
      <h1>{{ title }}</h1>
      <p class="text-gray-500 text-sm">
        Last updated <time datetime="{{ page.date | isostring }}">{{ page.date | shortdate }}</time>
      </p>
      {% if collections.slides | find("data.order", order) %}
        <p>
          <a href="{{ 'slides/' | url }}">Slides {{ icon('display', class='mb-0.5') }}</a>&nbsp;
          (<a
            href="{{ 'slides.pdf' | url }}"
            download="{{ page.fileSlug ~ '.pdf' }}"
            title="Download slides as PDF"
            aria-label="Download slides as PDF"
          >PDF {{ icon("file-pdf-fill", class='text-red-600 mb-0.5') }}</a>)
        </p>
      {% endif %}

      {{ content | safe }}

      <nav aria-label="Previous/next lesson" class="sticky bottom-0 left-0 z-10 bg-white border-t flex justify-between py-4 mt-12">
        {% set prevLesson = collections.lesson | find("data.order", order - 1) %}
        {% if prevLesson %}
          <a href="{{ prevLesson.url | url }}" class="inline-flex items-center mr-auto">
            {{ icon('arrow-left', class='mr-2') }}
            Previous
          </a>
        {% endif %}
        {% set nextLesson = collections.lesson | find("data.order", order + 1) %}
        {% if nextLesson %}
          <a href="{{ nextLesson.url | url }}" class="inline-flex items-center ml-auto">
            Next
            {{ icon('arrow-right', class='ml-2') }}
          </a>
        {% endif %}
      </nav>
    </div>
  </main>
</div>

{{ script("toggle-outline.js") }}
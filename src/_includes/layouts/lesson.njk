---
layout: layouts/base
---

{% from "macros.njk" import icon %}

<div class="container pt-4 pb-8 mx-auto lg:pt-8 lg:grid lg:grid-cols-[240px,1fr] lg:gap-10">
  <div class="mb-8 lg:mb-0">
    <button
      id="outlineToggle"
      type="button"
      aria-expanded="false"
      aria-controls="outlineNav"
      class="inline-flex font-bold items-center text-gray-900 lg:hidden"
    >
      {{ icon("caret-right-fill", class="mr-2 motion-safe:transition-transform motion-safe:duration-300") }}
      Outline
    </button>
    <nav class="hidden mt-3 lg:mt-0 lg:block lg:border-r lg:pr-8 lg:pl-1 lg:h-[calc(100vh-118px)] lg:sticky lg:top-[72px] lg:left-0 lg:overflow-y-auto" id="outlineNav" aria-label="Outline">
      <ol class="prose">
        {% for entry in pagination.pages %}
          {% set entryUrl = pagination.hrefs[loop.index0] %}
          {% set isActive = page.url === entryUrl %}
          <li>
            <a {% if isActive %} aria-current="page" {% endif %} class="inline-block leading-snug" href="{{ entryUrl }}">
              {{ entry.title }}
            </a>
          </li>
        {% endfor %}
      </ol>
    </nav>
  </div>
  <main id="main" class="">
    <div class="prose prose-indigo max-w-none mx-auto relative lg:mx-0">
      {{ content | safe }}
      <nav aria-label="Previous/next lesson" class="sticky bottom-0 left-0 z-10 bg-white border-t flex justify-between py-4 mt-8">
        {% if pagination.href.previous %}
          <a href="{{ pagination.href.previous }}" class="inline-flex items-center mr-auto">
            {{ icon('arrow-left', class='mr-2') }}
            Previous
          </a>
        {% endif %}
        {% if pagination.href.next %}
          <a href="{{ pagination.href.next }}" class="inline-flex items-center ml-auto">
            Next
            {{ icon('arrow-right', class='ml-2') }}
          </a>
        {% endif %}
      </nav>
    </div>
  </main>
</div>

{% set js %}
  {% include "js/toggle-outline.js" %}
{% endset %}
{% if site.environment == "production" %}
  <script>{{ js | transpilejs | minifyjs | safe }}</script>
{% else %}
  <script>{{ js | safe }}</script>
{% endif %}
